{"version":3,"sources":["station.controller.js"],"names":["FuelStation","require","request","bcrypt","auth","StationRegister","req","res","id","name","ownername","phonenumber","address","pwd","salt","password","fuelStation","regeneratorRuntime","async","_context","prev","next","body","arrivaltime","finishtime","status","stock","queue","genSaltSync","hashSync","diesel","Car","Bus","Bike","Tuk","awrap","save","sent","abrupt","send","message","t0","stop","Van","compareSync","token","generateAccessToken","_objectSpread","toJSON","fuelStations","_context3","find","json","getOneFuelStation","station","_context4","params","findOne","stationid","value","trim","$regex","$options","then","stations","searchByAddress","_context6","updateStatus","changeStatus","_context7","getAllFuelStation","findOneAndUpdate","updatestock","_context8","petrol","updatelength","_context9","searchStation","car","van","bus","bike","tuk","updateStockTime","_context10","updateDetails","_context11","fuealStationData","allCount","carCount","vanCount","busCount","bikeCount","tukCount","count","response","getCarCount","_context13","getVanCount","_context14","getBikeCount","_context16","getTukCount","_context17","module","exports","getcount","getBusCount"],"mappings":"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","file":"station.controller.min.js","sourcesContent":["const FuelStation = require('../models/station.model');\r\nconst { request } = require('express')\r\nconst bcrypt = require('bcryptjs');\r\nconst auth = require('../middlewares/token')\r\n\r\n//Station registration\r\nconst StationRegister = async (req, res) => {\r\n    const id = req.body.id;\r\n    const name = req.body.name;\r\n    const ownername = req.body.ownername;\r\n    const phonenumber = req.body.phonenumber;\r\n    const address = req.body.address;\r\n    const arrivaltime = req.body.arrivaltime;\r\n    const finishtime = req.body.finishtime;\r\n    const status = req.body.status;\r\n    const stock = req.body.stock;\r\n    const queue = req.body.queue;\r\n    const pwd = req.body.password;\r\n\r\n    const salt = bcrypt.genSaltSync(10);\r\n    const password = bcrypt.hashSync(pwd, salt);\r\n\r\n    const fuelStation = new FuelStation({\r\n        id,\r\n        name,\r\n        ownername,\r\n        phonenumber,\r\n        address,\r\n        arrivaltime: \"-\",\r\n        finishtime: \"-\",\r\n        status: \"Available\",\r\n        stock: { diesel: 0, petrol: 0 },\r\n        queue: { Car: 0, Van: 0, Bus: 0, Bike: 0, Tuk: 0 },\r\n        password\r\n    })\r\n\r\n    try {\r\n        let response = await fuelStation.save();\r\n        if (response) {\r\n            return res.status(201).send({ message: \"New Station Registered to the Fuel System\" })\r\n        } else {\r\n            return res.status(500).send({ message: \"Internal server error\" });\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n        return res.status(400).send({ message: \"Error while registering the station to the application\" })\r\n\r\n    }\r\n\r\n}\r\n\r\n//station owner login\r\nconst login = async (req, res) => {\r\n    const id = req.body.id;\r\n    const password = req.body.password;\r\n\r\n    try {\r\n        const fuelStation = await FuelStation.findOne({ id: id });\r\n        if (fuelStation) {\r\n            if (fuelStation && bcrypt.compareSync(password, fuelStation.password)) {\r\n                const token = auth.generateAccessToken(id);\r\n\r\n                return res.status(200).send({ ...fuelStation.toJSON(), token });\r\n            }\r\n            else {\r\n                return res.status(400).send({ message: 'Such user does not exist check your credentials' })\r\n            }\r\n        } else {\r\n            return res.status(404).send({ message: 'Such user does not exist' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(400).send({ message: 'Such user does not exist check your credentials' })\r\n    }\r\n\r\n}\r\n\r\n//get all fuel station\r\nconst getAllFuelStation = async (req, res) => {\r\n    try {\r\n        let fuelStations = await FuelStation.find();\r\n        if (fuelStations) {\r\n            return res.json(fuelStations)\r\n        } else {\r\n            return res.status(404).send({ message: 'Error on retrieving station' })\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal server error' })\r\n    }\r\n}\r\n\r\nconst getOneFuelStation = async (req, res) => {\r\n    const id = req.params.id;\r\n\r\n    try {\r\n        let station = await FuelStation.findOne({\r\n            stationid: id\r\n        });\r\n        if (station) {\r\n            return res.json(station)\r\n        } else {\r\n            return res.status(404).send({ message: 'No such station found' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal Server Error' })\r\n    }\r\n}\r\n\r\n//search station by name\r\nconst searchStation = async (req, res) => {\r\n    let value = req.params.name.trim();\r\n\r\n    try {\r\n        let station = await FuelStation.find();\r\n        if (station) {\r\n            FuelStation.find({ name: { $regex: \"^\" + value + \".*\", $options: 'i' } }).then((stations) => {\r\n                res.json(stations)\r\n\r\n            })\r\n        } else {\r\n            return res.status(404).send({ message: 'No such station found' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal Server Error' })\r\n    }\r\n}\r\n\r\n//search station by address\r\nconst searchByAddress = async (req, res) => {\r\n    let value = req.params.address.trim();\r\n\r\n    try {\r\n        let station = await FuelStation.find();\r\n        if (station) {\r\n            FuelStation.find({ address: { $regex: \"^\" + value + \".*\", $options: 'i' } }).then((stations) => {\r\n                res.json(stations)\r\n\r\n            })\r\n        } else {\r\n            return res.status(404).send({ message: 'No such station found' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal Server Error' })\r\n    }\r\n}\r\n\r\n//update status by station id\r\nconst updateStatus = async (req, res) => {\r\n    const id = req.params.id;\r\n\r\n    const fuelStation = await FuelStation.findOne({ stationid: id });\r\n\r\n    const password = fuelStation.password;\r\n\r\n    const name = fuelStation.name;\r\n    const ownername = fuelStation.ownername;\r\n    const phonenumber = fuelStation.phonenumber;\r\n    const address = fuelStation.address;\r\n    const arrivaltime = fuelStation.arrivaltime;\r\n    const finishtime = fuelStation.finishtime;\r\n    const stock = fuelStation.stock;\r\n    const queue = fuelStation.queue;\r\n\r\n    const changeStatus = {\r\n        id: id,\r\n        name: name,\r\n        ownername: ownername,\r\n        phonenumber: phonenumber,\r\n        address: address,\r\n        arrivaltime: arrivaltime,\r\n        finishtime: finishtime,\r\n        status: req.body.status,\r\n        stock: stock,\r\n        queue: queue,\r\n        password: password\r\n\r\n    }\r\n\r\n    try {\r\n        const response = await FuelStation.findOneAndUpdate({ stationid: id }, changeStatus);\r\n        if (response) {\r\n            return res.status(200).send({ message: 'Successfully updated' })\r\n        } else {\r\n\r\n            return res.status(500).send({ message: 'Internal server error' });\r\n        }\r\n\r\n    } catch (err) {\r\n        return res.status(400).send({ message: 'Unable to update' })\r\n    }\r\n\r\n}\r\n\r\n//update stock details\r\nconst updatestock = async (req, res) => {\r\n    const id = req.params.id;\r\n\r\n    const fuelStation = await FuelStation.findOne({ id: id });\r\n    const password = fuelStation.password;\r\n\r\n    const name = fuelStation.name;\r\n    const ownername = fuelStation.ownername;\r\n    const phonenumber = fuelStation.phonenumber;\r\n    const address = fuelStation.address;\r\n    const arrivaltime = fuelStation.arrivaltime;\r\n    const finishtime = fuelStation.finishtime;\r\n    const status = fuelStation.status;\r\n    const queue = fuelStation.queue;\r\n\r\n    const changeStatus = {\r\n        id: id,\r\n        name: name,\r\n        ownername: ownername,\r\n        phonenumber: phonenumber,\r\n        address: address,\r\n        arrivaltime: arrivaltime,\r\n        finishtime: finishtime,\r\n        status: status,\r\n        stock: {\r\n            diesel: req.body.diesel,\r\n            petrol: req.body.petrol\r\n        },\r\n        queue: queue,\r\n        password: password\r\n\r\n    }\r\n\r\n    try {\r\n        const response = await FuelStation.findOneAndUpdate({ stationid: id }, changeStatus);\r\n        if (response) {\r\n            return res.status(200).send({ message: 'Successfully updated' })\r\n        } else {\r\n\r\n            return res.status(500).send({ message: 'Internal server error' });\r\n        }\r\n\r\n    } catch (err) {\r\n        return res.status(400).send({ message: 'Unable to update' })\r\n    }\r\n\r\n}\r\n\r\n//update queue length\r\nconst updatelength = async (req, res) => {\r\n    const id = req.params.id;\r\n\r\n    const fuelStation = await FuelStation.findOne({ id: id });\r\n\r\n    const password = fuelStation.password;\r\n\r\n    const name = fuelStation.name;\r\n    const ownername = fuelStation.ownername;\r\n    const phonenumber = fuelStation.phonenumber;\r\n    const address = fuelStation.address;\r\n    const arrivaltime = fuelStation.arrivaltime;\r\n    const finishtime = fuelStation.finishtime;\r\n    const status = fuelStation.status;\r\n    const stock = fuelStation.stock;\r\n\r\n    const changeStatus = {\r\n        id: id,\r\n        name: name,\r\n        ownername: ownername,\r\n        phonenumber: phonenumber,\r\n        address: address,\r\n        arrivaltime: arrivaltime,\r\n        finishtime: finishtime,\r\n        status: status,\r\n        stock: stock,\r\n        queue: {\r\n            Car: req.body.queue.car,\r\n            Van: req.body.queue.van,\r\n            Bus: req.body.queue.bus,\r\n            Bike: req.body.queue.bike,\r\n            Tuk: req.body.queue.tuk\r\n        },\r\n        password: password\r\n\r\n    }\r\n\r\n    try {\r\n        const response = await FuelStation.findOneAndUpdate({ id: id }, changeStatus);\r\n        if (response) {\r\n            return res.status(200).send({ message: 'Successfully updated' })\r\n        } else {\r\n\r\n            return res.status(500).send({ message: 'Internal server error' });\r\n        }\r\n\r\n    } catch (err) {\r\n        return res.status(400).send({ message: 'Unable to update' })\r\n    }\r\n\r\n}\r\n\r\n//update stock time time \r\nconst updateStockTime = async (req, res) => {\r\n    const id = req.params.id;\r\n\r\n    const fuelStation = await FuelStation.findOne({ id: id });\r\n\r\n    const password = fuelStation.password;\r\n\r\n    const name = fuelStation.name;\r\n    const ownername = fuelStation.ownername;\r\n    const phonenumber = fuelStation.phonenumber;\r\n    const address = fuelStation.address;\r\n    const status = fuelStation.status;\r\n    const stock = fuelStation.stock;\r\n    const queue = fuelStation.queue;\r\n\r\n    const changeStatus = {\r\n        id: id,\r\n        name: name,\r\n        ownername: ownername,\r\n        phonenumber: phonenumber,\r\n        address: address,\r\n        arrivaltime: req.body.arrivaltime,\r\n        finishtime: req.body.finishtime,\r\n        status: status,\r\n        stock: stock,\r\n        queue: queue,\r\n        password: password\r\n\r\n    }\r\n\r\n    try {\r\n        const response = await FuelStation.findOneAndUpdate({ id: id }, changeStatus);\r\n        if (response) {\r\n            return res.status(200).send({ message: 'Successfully updated' })\r\n        } else {\r\n\r\n            return res.status(500).send({ message: 'Internal server error' });\r\n        }\r\n\r\n    } catch (err) {\r\n        return res.status(400).send({ message: 'Unable to update' })\r\n    }\r\n\r\n}\r\n\r\n\r\n//update station details\r\nconst updateDetails = async (req, res) => {\r\n    const id = req.params.id;\r\n\r\n    const fuelStation = await FuelStation.findOne({ id: id });\r\n\r\n    const password = fuelStation.password;\r\n\r\n    const name = fuelStation.name;\r\n    const ownername = fuelStation.ownername;\r\n    const phonenumber = fuelStation.phonenumber;\r\n    const address = fuelStation.address;\r\n    const arrivaltime = fuelStation.arrivaltime;\r\n    const finishtime = fuelStation.finishtime;\r\n    const queue = fuelStation.queue;\r\n\r\n    const changeStatus = {\r\n        id: id,\r\n        name: name,\r\n        ownername: ownername,\r\n        phonenumber: phonenumber,\r\n        address: address,\r\n        arrivaltime: arrivaltime,\r\n        finishtime: finishtime,\r\n        status: req.body.status,\r\n        stock: req.body.stock,\r\n        queue: queue,\r\n        password: password\r\n\r\n    }\r\n\r\n    try {\r\n        const response = await FuelStation.findOneAndUpdate({ id: id }, changeStatus);\r\n        if (response) {\r\n            return res.status(200).send({ message: 'Successfully updated' })\r\n        } else {\r\n\r\n            return res.status(500).send({ message: 'Internal server error' });\r\n        }\r\n\r\n    } catch (err) {\r\n        return res.status(400).send({ message: 'Unable to update' })\r\n    }\r\n\r\n}\r\n\r\n//get vehicle count\r\nconst getcount = async (req, res) => {\r\n    let value = req.params.id.trim();\r\n    console.log(\"carcount\");\r\n    try {\r\n\r\n        let fuealStationData = await FuelStation.findOne({ id: value });\r\n\r\n        if (fuealStationData) {\r\n\r\n            let carCount = fuealStationData.queue.Car;\r\n            let vanCount = fuealStationData.queue.Van;\r\n            let busCount = fuealStationData.queue.Bus;\r\n            let bikeCount = fuealStationData.queue.Bike;\r\n            let tukCount = fuealStationData.queue.Tuk;\r\n\r\n\r\n            let allCount = carCount + vanCount + busCount + bikeCount + tukCount;\r\n\r\n            return res.status(200).send({ count: allCount });\r\n\r\n        } else {\r\n            return res.status(404).send({ message: 'No such vehicle type found' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal Server Error' })\r\n    }\r\n}\r\n\r\n//get Car count\r\nconst getCarCount = async (req, res) => {\r\n    let value = req.params.id.trim();\r\n\r\n    try {\r\n\r\n        let fuealStationData = await FuelStation.findOne({ id: value });\r\n\r\n        if (fuealStationData) {\r\n\r\n            let carCount = fuealStationData.queue.Car;\r\n\r\n            return res.status(200).send({ count: carCount });\r\n\r\n        } else {\r\n            return res.status(404).send({ message: 'No such vehicle type found' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal Server Error' })\r\n    }\r\n}\r\n\r\n//get Van count\r\nconst getVanCount = async (req, res) => {\r\n    let value = req.params.id.trim();\r\n\r\n    try {\r\n\r\n        let fuealStationData = await FuelStation.findOne({ id: value });\r\n\r\n        if (fuealStationData) {\r\n\r\n            let vanCount = fuealStationData.queue.Van;\r\n\r\n            return res.status(200).send({ count: vanCount });\r\n\r\n        } else {\r\n            return res.status(404).send({ message: 'No such vehicle type found' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal Server Error' })\r\n    }\r\n}\r\n\r\n//get bus count\r\nconst getBusCount = async (req, res) => {\r\n    let value = req.params.id.trim();\r\n\r\n    try {\r\n\r\n        let fuealStationData = await FuelStation.findOne({ id: value });\r\n\r\n        if (fuealStationData) {\r\n\r\n            let busCount = fuealStationData.queue.Bus;\r\n\r\n            return res.status(200).send({ count: busCount });\r\n\r\n        } else {\r\n            return res.status(404).send({ message: 'No such vehicle type found' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal Server Error' })\r\n    }\r\n}\r\n\r\n//get bike count\r\nconst getBikeCount = async (req, res) => {\r\n    let value = req.params.id.trim();\r\n\r\n    try {\r\n\r\n        let fuealStationData = await FuelStation.findOne({ id: value });\r\n\r\n        if (fuealStationData) {\r\n\r\n            let bikeCount = fuealStationData.queue.Bike;\r\n\r\n            return res.status(200).send({ count: bikeCount });\r\n\r\n        } else {\r\n            return res.status(404).send({ message: 'No such vehicle type found' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal Server Error' })\r\n    }\r\n}\r\n\r\n//get tuke count\r\nconst getTukCount = async (req, res) => {\r\n    let value = req.params.id.trim();\r\n\r\n    try {\r\n\r\n        let fuealStationData = await FuelStation.findOne({ id: value });\r\n\r\n        if (fuealStationData) {\r\n\r\n            let tukCount = fuealStationData.queue.Tuk;\r\n\r\n            return res.status(200).send({ count: tukCount });\r\n\r\n        } else {\r\n            return res.status(404).send({ message: 'No such vehicle type found' });\r\n        }\r\n    } catch (err) {\r\n        return res.status(500).send({ message: 'Internal Server Error' })\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = {\r\n    StationRegister,\r\n    getAllFuelStation,\r\n    getOneFuelStation,\r\n    searchStation,\r\n    searchByAddress,\r\n    updateStatus,\r\n    updatestock,\r\n    updatelength,\r\n    updateDetails,\r\n    getcount,\r\n    getCarCount,\r\n    getVanCount,\r\n    getBusCount,\r\n    getBikeCount,\r\n    getTukCount,\r\n    login,\r\n    updateStockTime,\r\n\r\n}"]}